# 总结与反思
过去四周虽然付出了努力，但效率不高，我总结出以下几点原因：

1. 取舍失当： 我想节约时间，只关注当前所需内容，不愿深究每个细节。但问题在于，如果不深入探究某个点，我很难判断其重要性。结果往往是：初步判断某个细节不重要就跳过，既不深挖也不记录整理。等到后续工作涉及到相关知识时，才发现它其实很关键，而我又记不清了，不得不回头重学，反而浪费了大量时间。后来我意识到，恰恰是那些我认为“不重要”的细节，构成了我的知识框架。

2. 输入过多，缺乏有效整理与回顾： 我看了大量资料，但整理过于随意，导致回顾困难。不过，如果第一点提到的知识框架没建立好，有效整理确实很难实现（这点还需继续体会）。最后两天集中整理时，我把知识点串联起来，思路才变得清晰。所以我觉得在确保自己理解了理论和代码后，就应该立即以费曼的方式写下来（单纯复制粘贴无效）。当时主要是担心时间不够，但现在反思来看，知识点未能串联导致反复遗忘，才是最大的时间浪费。

3. 过度依赖AI代码： 项目中使用的AI生成代码常常不遵循手册规范，而我自己对细节理解也不够深入。在调试过程中，反复尝试耗费了大量时间。前三点都指向了我的学习方式存在问题。

4. 开发流程经验不足： 没有充分利用 cargo check 来保证代码基础编译通过。我起初的想法是先写完再调试，结果调试时发现早期代码就有问题，不得不回溯修改，效率就低了。另一个问题是，rust-analyzer 有时无法识别某些库的语法，让我无法确定代码是否正确。这种情况下，频繁使用 cargo check 就非常必要了。

5. 代码理解方式不当：应该按执行流程逐行阅读。我之前按文件结构/模块逐行阅读，ai问了一堆，但是串不起来，等于啥也没学到。现有的文档基本也是按文件结构/模块，我认为这并不是初学者友好的。我一开始读axvisor，遇到一个 trait 定义在一个位置，其实现在另一处，由于对这种写法不熟悉，这种写法不熟悉，ide功能又有限，我就不知道在哪找实际实现。但是如果从最开始的一行行捋，而不是单看那一块，就能捋明白。

6. 问题记录与分析缺失，这一点算是对第1点的补充，因为怕来不及，所以很多问题没有被我写下来，就是问了ai，觉得不重要就过了。我觉得如果我判断出这部分不重要，那我就应该写下来，逻辑清晰的写出，这部分为什么不重要，这样理解加深了，也方便后续检索。并且有了ai之后，我都有点懒了，就是不愿意自己分析问题了，直接ai分析，最后也是不出意外的调试很久都不行，还得自己重新思考。

后续开发计划：注重理解和写作，过程中可以写一部分小的代码辅助理解，最重要的是理解，核心在于理解而非产出代码。过去经验说明，追求速度、堆砌代码，往往导致后续反复调试，最终仍需回头补足理解，这不仅是巨大的时间浪费，更剥夺了学习的反馈感，就好像把人沦为了ai的调试工具。

# 文档类

类似于开发日志，就把我开发过程中的一些思考点都写进去了，但是不是很完善，：https://www.zhixi.com/view/3f551879

写PPT时候的思路：链接：https://www.zhixi.com/view/ff926e7c

下面这些笔记就能体现我反思所提到的内容，比如我一开始就没有按流程逐行理解，后面按流程逐行了。所以笔记写的并不是很好：

RVM1.5笔记：https://www.zhixi.com/view/ebc6c1c8

RVM-tutorial笔记，按流程逐行解析：https://www.zhixi.com/view/9140beea

axvisor笔记按流程逐行解析，这里的最后部分和付权智同学交流了，觉得搞懂了就没有写进去了https://www.zhixi.com/view/99a939ce

**用到的资料：**

RVM-tutorial，vmx的教学：https://github.com/equation314/RVM-Tutorial
RVM1.5，svm的参考代码：https://github.com/rcore-os/RVM1.5

## axvisor流程
写axvisor笔记中，捋下来的流程


# 工作进度
只完成了进入guest之前的配置，包括检查虚拟化支持、启用虚拟化、配置结构，但是可能配置的不对，vmrun之后死循环了还没调出来。具体的代码主要是在mycrate/x86_vcpu/src/svm中，github链接：https://github.com/1906353110/axvisor/tree/iopm_msrpm，讲解在ppt。因为我的工作不只是代码，还包括写x86_vcpu的文档，所以ppt里面呈现的内容其实也算我的工作，因为不仅包括了svm的代码，还包括和vmx对比。

从功能上来说，代码基本都实现了，但是不够完善，同时vmrun没有跑起来，所以很多功能写出来了但是没有测试。花的时间最久的是vmcb、iopm、msrpm，这地方是看文档看的最多的，ai写的完全不符合规范。

# 感想
这两个月真的学到了很多很多，很多思路都是我以前没尝试过的，比如根据rip看汇编、看qemu日志、makefile、看全英文档、逐行读代码（之前源码阅读经验基本为0）等等，也是走出舒适区吧，几乎每几天都有卡住我的问题，然后我就不得不逼自己重新思考，重新学习。当时真觉得还挺痛苦的哈哈哈哈哈，觉得自己做不成了，但每次又能够找到解决问题的方向，现在回过头来看，真的学到很多。

